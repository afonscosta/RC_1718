\documentclass{llncs}
\usepackage{times}
\usepackage[T1]{fontenc}

% Comentar para not MAC Users
\usepackage[applemac]{inputenc}

\usepackage{a4}
%\usepackage[margin=3cm,nohead]{geometry}
\usepackage{epstopdf}
\usepackage{graphicx}
\usepackage{fancyvrb}
\usepackage{amsmath}
%\renewcommand{\baselinestretch}{1.5}

\begin{document}
\mainmatter
\title{TP3: Camada de Ligação Lógica: Ethernet e Protocolo ARP}

\titlerunning{TP3: Camada de Ligação Lógica: Ethernet e Protocolo ARP}

\author{Diogo Afonso Costa \and Daniel Maia \and Vitor Castro}

\authorrunning{Diogo Afonso Costa \and Daniel Maia \and Vitor Castro}

\institute{
University of Minho, Department of  Informatics, 4710-057 Braga, Portugal\\
e-mail: \{a78034,a77531,a77870\}@alunos.uminho.pt
}

\date{}
\bibliographystyle{splncs}

\maketitle
\begin{abstract}
Resumo...
\end{abstract}

\section{Introduction}



\clearpage
\section{Parte I - Captura e análise de Tramas Ethernet}

\subsection{Exercício 1}
\subsubsection{Questão}\rule[-10pt]{0pt}{10pt}\\

Anote os endereços MAC de origem e de destino da trama capturada.

\subsubsection{Resposta}\rule[-10pt]{0pt}{10pt}\\

\textit{Destination}: Vmware_d2:19:f0 (00:0c:29:d2:19:f0)
\textit{Source}: LcfcHefe_66:65:4a (68:f7:28:66:65:4a)

\subsubsection{Realização}\rule[-10pt]{0pt}{10pt}\\

\begin{figure}
  \begin{center}
  \includegraphics[scale=0.35]{imagens/MACAddrGET.pdf} 
  \end{center}
  \caption{Endereços MAC do HTTP GET.}
  \label{fig:ip_source}
\end{figure} 

\clearpage
\subsection{Exercício 2}
\subsubsection{Questão}\rule[-10pt]{0pt}{10pt}\\

Identifique a que sistemas se referem. Justifique.

\subsubsection{Resposta}\rule[-10pt]{0pt}{10pt}\\

O MAC \textit{destination} refere ao comutador da rede local.
O MAC \textit{source} refere à máquina que enviou o pedido; neste caso, o computador utilizado.

\subsubsection{Realização}\rule[-10pt]{0pt}{10pt}\\

Ao nível da ligação de dados, as máguinas apenas comunicam com máguinas adjacentes.

\clearpage
\subsection{Exercício 3}
\subsubsection{Questão}\rule[-10pt]{0pt}{10pt}\\

Qual o valor hexadecimal do campo \textit{Type} da trama Ethernet? O que significa?

\subsubsection{Resposta}\rule[-10pt]{0pt}{10pt}\\

\textit{Type}: 0x0800; Este valor indica o tipo IPv4.

\subsubsection{Realização}\rule[-10pt]{0pt}{10pt}\\

\begin{figure}
  \begin{center}
  \includegraphics[scale=0.35]{imagens/MACAddrGET.pdf} 
  \end{center}
  \caption{O campo \textit{Type} da trama.}
  \label{fig:ip_source}
\end{figure} 

\clearpage
\subsection{Exercício 4}
\subsubsection{Questão}\rule[-10pt]{0pt}{10pt}\\

Quantos bytes são usados desde o início da trama até ao caractere ASCII “G” do método HTTP GET? Calcule e indique, em percentagem, a sobrecarga (overhead) introduzida pela pilha protocolar no envio do HTTP GET.

\subsubsection{Resposta}\rule[-10pt]{0pt}{10pt}\\

Até ao caractere "G", existem 54 bytes dos 386 bytes do método, resultando num overhead percentual de (54/386) * 100 = 14\%

\subsubsection{Realização}\rule[-10pt]{0pt}{10pt}\\



\clearpage
\subsection{Exercício 5}
\subsubsection{Questão}\rule[-10pt]{0pt}{10pt}\\

Em ligações com fios pouco susceptíveis a erros, nem sempre as NICs geram o código de detecção de erros. Através de visualização direta de uma trama capturada, verifique se o campo FCS está visível, i.e., se está a ser utilizado. Aceda à opção Edit/Preferences/Protocols/Ethernet e indique que é assumido o uso do campo FCS. Verifique qual o valor hexadecimal desse campo na trama
capturada. Que conclui? Reponha a configuração original.

\subsubsection{Resposta}\rule[-10pt]{0pt}{10pt}\\



\subsubsection{Realização}\rule[-10pt]{0pt}{10pt}\\



\clearpage
\subsection{Exercício 6}
\subsubsection{Questão}\rule[-10pt]{0pt}{10pt}\\

Qual é o endereço Ethernet da fonte? A que sistema de rede corresponde? Justifique.

\subsubsection{Resposta}\rule[-10pt]{0pt}{10pt}\\



\subsubsection{Realização}\rule[-10pt]{0pt}{10pt}\\



\clearpage
\subsection{Exercício 7}
\subsubsection{Questão}\rule[-10pt]{0pt}{10pt}\\

Qual é o endereço MAC do destino? A que sistema corresponde?

\subsubsection{Resposta}\rule[-10pt]{0pt}{10pt}\\



\subsubsection{Realização}\rule[-10pt]{0pt}{10pt}\\



\clearpage
\subsection{Exercício 8}
\subsubsection{Questão}\rule[-10pt]{0pt}{10pt}\\

Atendendo ao conceito de desencapsulamento protocolar, identifique os vários protocolos contidos na trama recebida.
\subsubsection{Resposta}\rule[-10pt]{0pt}{10pt}\\



\subsubsection{Realização}\rule[-10pt]{0pt}{10pt}\\


% 4. Protocolo ARP ---------
\clearpage
\subsection{Exercício 9}
\subsubsection{Questão}\rule[-10pt]{0pt}{10pt}\\

Observe o conteúdo da tabela ARP. Diga o que significa cada uma das colunas?

\subsubsection{Resposta}\rule[-10pt]{0pt}{10pt}\\



\subsubsection{Realização}\rule[-10pt]{0pt}{10pt}\\



\clearpage
\subsection{Exercício 10}
\subsubsection{Questão}\rule[-10pt]{0pt}{10pt}\\

Qual é o valor hexadecimal dos endereços origem e destino na trama Ethernet que contém a mensagem com o pedido ARP (ARP Request)? Como interpreta e justifica o endereço destino usado?

\subsubsection{Resposta}\rule[-10pt]{0pt}{10pt}\\



\subsubsection{Realização}\rule[-10pt]{0pt}{10pt}\\



\clearpage
\subsection{Exercício 11}
\subsubsection{Questão}\rule[-10pt]{0pt}{10pt}\\

Qual o valor hexadecimal do campo tipo da trama Ethernet? O que indica?

\subsubsection{Resposta}\rule[-10pt]{0pt}{10pt}\\



\subsubsection{Realização}\rule[-10pt]{0pt}{10pt}\\



\clearpage
\subsection{Exercício 12}
\subsubsection{Questão}\rule[-10pt]{0pt}{10pt}\\

Qual o valor do campo ARP opcode? O que especifica?

\subsubsection{Resposta}\rule[-10pt]{0pt}{10pt}\\



\subsubsection{Realização}\rule[-10pt]{0pt}{10pt}\\



\clearpage
\subsection{Exercício 13}
\subsubsection{Questão}\rule[-10pt]{0pt}{10pt}\\

Identifique que tipo de endereços estão contidos na mensagem ARP? Que conclui?

\subsubsection{Resposta}\rule[-10pt]{0pt}{10pt}\\



\subsubsection{Realização}\rule[-10pt]{0pt}{10pt}\\



\clearpage
\subsection{Exercício 14}
\subsubsection{Questão}\rule[-10pt]{0pt}{10pt}\\

Explicite que tipo de pedido ou pergunta é feita pelo host de origem?

\subsubsection{Resposta}\rule[-10pt]{0pt}{10pt}\\



\subsubsection{Realização}\rule[-10pt]{0pt}{10pt}\\



\clearpage
\subsection{Exercício 15.a)}
\subsubsection{Questão}\rule[-10pt]{0pt}{10pt}\\

Qual o valor do campo ARP opcode? O que especifica?

\subsubsection{Resposta}\rule[-10pt]{0pt}{10pt}\\



\subsubsection{Realização}\rule[-10pt]{0pt}{10pt}\\



\clearpage
\subsection{Exercício 15.b)}
\subsubsection{Questão}\rule[-10pt]{0pt}{10pt}\\

Em que posição da mensagem ARP está a resposta ao pedido ARP ?

\subsubsection{Resposta}\rule[-10pt]{0pt}{10pt}\\



\subsubsection{Realização}\rule[-10pt]{0pt}{10pt}\\



\clearpage
\subsection{Exercício 16}
\subsubsection{Questão}\rule[-10pt]{0pt}{10pt}\\

Com auxílio do comando ifconfig obtenha os endereços Ethernet das interfaces dos diversos routers.

\subsubsection{Resposta}\rule[-10pt]{0pt}{10pt}\\



\subsubsection{Realização}\rule[-10pt]{0pt}{10pt}\\



\clearpage
\subsection{Exercício 17}
\subsubsection{Questão}\rule[-10pt]{0pt}{10pt}\\

Usando o comando arp obtenha as caches arp dos diversos sistemas.

\subsubsection{Resposta}\rule[-10pt]{0pt}{10pt}\\



\subsubsection{Realização}\rule[-10pt]{0pt}{10pt}\\



\clearpage
\subsection{Exercício 18}
\subsubsection{Questão}\rule[-10pt]{0pt}{10pt}\\

Faça ping de n1 para n2. Que modificações observa nas caches ARP desses sistemas? Faça ping de n1 para n3. Consulte as caches ARP. Que conclui?

\subsubsection{Resposta}\rule[-10pt]{0pt}{10pt}\\



\subsubsection{Realização}\rule[-10pt]{0pt}{10pt}\\



\clearpage
\subsection{Exercício 19}
\subsubsection{Questão}\rule[-10pt]{0pt}{10pt}\\

Em n1 remova a entrada correspondente a n2. Coloque uma nova entrada para n2 com endereço Ethernet inexistente. O que acontece?

\subsubsection{Resposta}\rule[-10pt]{0pt}{10pt}\\



\subsubsection{Realização}\rule[-10pt]{0pt}{10pt}\\



\clearpage
\subsection{Exercício 20}
\subsubsection{Questão}\rule[-10pt]{0pt}{10pt}\\

Faça ping de n6 para n5. Sem consultar a tabela ARP anote a entrada que, em sua opinião, é criada na tabela ARP de n6. Verifique, justificando, se a sua interpretação sobre a operação da rede Ethernet e protocolo ARP estava correto.

\subsubsection{Resposta}\rule[-10pt]{0pt}{10pt}\\



\subsubsection{Realização}\rule[-10pt]{0pt}{10pt}\\



\clearpage
\section{Parte II - ARP Gratuito}

\subsection{Exercício 1}
\subsubsection{Questão}\rule[-10pt]{0pt}{10pt}\\

Identifique um pacote de pedido ARP gratuito originado pelo seu sistema. Verifique quantos pacotes ARP gratuito foram enviados e com que intervalo temporal?

\subsubsection{Resposta}\rule[-10pt]{0pt}{10pt}\\



\subsubsection{Realização}\rule[-10pt]{0pt}{10pt}\\



\clearpage
\subsection{Exercício 2}
\subsubsection{Questão}\rule[-10pt]{0pt}{10pt}\\

Analise o conteúdo de um pedido ARP gratuito e identifique em que se distingue dos restantes pedidos ARP. Registe a trama Ethernet correspondente. Qual o resultado esperado face ao pedido ARP gratuito enviado?

\subsubsection{Resposta}\rule[-10pt]{0pt}{10pt}\\



\subsubsection{Realização}\rule[-10pt]{0pt}{10pt}\\



\clearpage
\section{Parte II - Domínios de colisão}

\subsection{Exercício 1}
\subsubsection{Questão}\rule[-10pt]{0pt}{10pt}\\

Faça ping de n1 para n4. Verifique com a opção tcpdump como flui o tráfego nas diversas interfaces dos vários dispositivos. Que conclui?

\subsubsection{Resposta}\rule[-10pt]{0pt}{10pt}\\



\subsubsection{Realização}\rule[-10pt]{0pt}{10pt}\\



\clearpage
\subsection{Exercício 2}
\subsubsection{Questão}\rule[-10pt]{0pt}{10pt}\\

Na topologia de rede substitua o hub por um switch. Repita os procedimentos que realizou na pergunta anterior. Comente os resultados obtidos quanto à utilização de hubs e switches no contexto de controlar ou dividir domínios de colisão. Documente as suas observações e conclusões com base no tráfego observado/capturado.

\subsubsection{Resposta}\rule[-10pt]{0pt}{10pt}\\



\subsubsection{Realização}\rule[-10pt]{0pt}{10pt}\\



\clearpage

\section{Conclusions}
Neste trabalho...

%UNCOMMENT para a bibliografia 
%% ficheirodebibliografia.bib
%\bibliography{ficheirodebibliografia}

%ou inserir directamente os v‡rios \bibitem 
\begin{thebibliography}{1}
\bibitem{Zadeh65}
Zadeh, L.:
\newblock {Fuzzy sets} (1965)

\bibitem{Nguyen99}
Nguyen, H., Walker, E.:
\newblock {First course in fuzzy logic}.
\newblock {Boca Raton: Chapman and Hall/CRC Press} (1999)
\end{thebibliography}

\end{document}